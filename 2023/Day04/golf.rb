p$<.readlines.sum{1<<(_1=~/\|/;$`.split&$'.split).size-1}
# https://twitter.com/eregontp/status/1731726089792229663
